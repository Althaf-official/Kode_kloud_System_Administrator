The production support team of xFusionCorp Industries is working on developing some bash scripts to automate different day to day tasks. One is to create a bash script for taking websites backup. They have a static website running on App Server 2 in Stratos Datacenter, and they need to create a bash script named ecommerce_backup.sh which should accomplish the following tasks. (Also remember to place the script under /scripts directory on App Server 2).



a. Create a zip archive named xfusioncorp_ecommerce.zip of /var/www/html/ecommerce directory.


b. Save the archive in /backup/ on App Server 2. This is a temporary storage, as backups from this location will be clean on weekly basis. Therefore, we also need to save this backup archive on Nautilus Backup Server.


c. Copy the created archive to Nautilus Backup Server server in /backup/ location.


d. Please make sure script won't ask for password while copying the archive file. Additionally, the respective server user (for example, tony in case of App Server 1) must be able to run it.

--------------------


### failed attempt 1

```ruby
thor@jump_host ~$ ssh steve@stapp02
The authenticity of host 'stapp02 (172.16.238.11)' can't be established.
ECDSA key fingerprint is SHA256:SySamszyWhhLGFiybhGBqfrr8g55wS/3e37ZpBOvICs.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added 'stapp02,172.16.238.11' (ECDSA) to the list of known hosts.
steve@stapp02's password: 
[steve@stapp02 ~]$ 
[steve@stapp02 ~]$ 
[steve@stapp02 ~]$ sudo su -

We trust you have received the usual lecture from the local System
Administrator. It usually boils down to these three things:

    #1) Respect the privacy of others.
    #2) Think before you type.
    #3) With great power comes great responsibility.

[sudo] password for steve: 
[root@stapp02 ~]# 
[root@stapp02 ~]# 
[root@stapp02 ~]# 
[root@stapp02 ~]# cd /scripts/
[root@stapp02 scripts]# ls
[root@stapp02 scripts]# cat > ecommerce_backup.sh
#!/bin/bash

# Variables
backup_dir="/backup"
website_dir="/var/www/html/ecommerce"
backup_filename="xfusioncorp_ecommerce.zip"
nautilus_backup_server="stbkp01.stratos.xfusioncorp.com"
nautilus_backup_user="clint"
nautilus_backup_dir="/backup"

# Create a zip archive of the website directory
zip -r "$backup_dir/$backup_filename" "$website_dir"

# Copy the archive to the local backup directory on App Server 2
cp "$backup_dir/$backup_filename" "$backup_dir"

# Copy the archive to the Nautilus Backup Server
scp -i /home/tony/.ssh/id_rsa "$backup_dir/$backup_filename" "$nautilus_backup_user@$nautilus_backup_server:$nautilus_backup_dir"

# Remove the temporary backup on App Server 2
rm "$backup_dir/$backup_filename"

echo "Backup completed successfully."
[root@stapp02 scripts]# 
[root@stapp02 scripts]# 
[root@stapp02 scripts]# chmod +x /scripts/ecommerce_backup.sh
[root@stapp02 scripts]# /scripts/ecommerce_backup.sh
  adding: var/www/html/ecommerce/ (stored 0%)
  adding: var/www/html/ecommerce/index.html (stored 0%)
  adding: var/www/html/ecommerce/.gitkeep (stored 0%)
cp: ‘/backup/xfusioncorp_ecommerce.zip’ and ‘/backup/xfusioncorp_ecommerce.zip’ are the same file
Warning: Identity file /home/tony/.ssh/id_rsa not accessible: No such file or directory.
The authenticity of host 'stbkp01.stratos.xfusioncorp.com (172.17.0.4)' can't be established.
ECDSA key fingerprint is SHA256:MJeOXYnjRquPfjREb7gS73pbrC/qOVNqyWgj1SIw0X8.
ECDSA key fingerprint is MD5:57:98:ce:f6:18:d1:9e:82:d2:ef:01:d4:7c:ae:03:2d.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added 'stbkp01.stratos.xfusioncorp.com,172.17.0.4' (ECDSA) to the list of known hosts.
clint@stbkp01.stratos.xfusioncorp.com's password: 
xfusioncorp_ecommerce.zip                                 100%  623   888.4KB/s   00:00    
Backup completed successfully.
[root@stapp02 scripts]# cd ..
[root@stapp02 /]# ls
anaconda-post.log  bin   dev  home  lib64  mnt  proc  run   scripts  sys  usr
backup             boot  etc  lib   media  opt  root  sbin  srv      tmp  var
[root@stapp02 /]# cd backup/
[root@stapp02 backup]# ls
[root@stapp02 backup]# 
```
- 'xfusioncorp_ecommerce.zip' not found under '/backup' on Backup Server
